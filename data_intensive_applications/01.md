# 01장 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션

## 신뢰성

하드웨어나 소프트웨어 심지어 인적오류가 발생하더라도 시스템은 지속적으로 올바르게 동작해야 한다.

무언가 잘못되더라도 지속적으로 올바르게 동작함

- fault (결함) : 잘못될 수 있는 일
- fault-tolerant(내결함성) or resilient(탄력성) : 결함을 예측하고 대처할 수 있는 시스템
- 결함 != 장애
- 장애 : 사용자에게 서비스를 제공하지 못하고 서비스 시스템 전체가 멈춘 경우
- 결함이 발생할 확률을 0으로 줄이는 것은 불가능 따라서 fault tolerant하게 시스템을 설계하는 것이 가장 좋다.
- 고의적으로 결함을 유도하여 시스템의 resilient를 지속적으로 훈련하고 테스트하여 결함 발생 시 처리할 수 있다는 자신감을 높인 사례 -> 넷플릭스의 카오스 몽키



### 하드웨어 결함

- 소프트웨어 내결함성 기술을 사용하거나 하드웨어 중복성을 추가해 전체 장비의 손실을 견딜 수 있는 시스템으로 옮겨가고 있는 추세
- 이렇게 운영하는 시스템은 장비 재부팅 등의 경우에도 시스템 중단 없이 운영할 수 있다는 장점이 있다.

### 소프트웨어 오류

- 빠른 해결책이 없다.
- 테스트, 프로세스 격리, 셀프 힐링 등이 문제 해결에 도움을 줄 수 있다.

### 인적 오류

- 하드웨어 결함은 중단 원인의 10 ~ 25%에 그치는 반면 운영자의 설정 오류는 중단의 주요 원인
- 오류의 가능성을 최소화 하는 방향으로 시스템을 설계
- 샌드박스 운영
- 철저한 테스트
- 롤백 제공
- 모니터링



## 확장성

시스템의 데이터 양, 트래픽 양, 복잡도가 증가하면서 이를 처리할 수 있는 적절한 방법이 있어야 한다. 시스템이 현재 안정적이라고 해서 미래에도 안정적일 것이라는 보장은 없다. 

"X는 확장 가능하다 or 확장 불가능하다"라는 말은 의미가 없다. 확장성을 논한다는 것은 "시스템이 특정 방식으로 커지면 이에 대응하기 위한 방법은 무엇인가?" 혹은 "추가 부하를 다루기 위해 컴퓨팅 리소스는 어떻게 투입해야 할까?" 와 같은 질문을 고려한다는 의미다.

### 부하 기술하기

부하 성장 질문(부하가 두 배로 되면 어떻게 될까?)을 논의하려면 시스템의 현재 부하를 간결하게 기술할 수 있어야 한다. 부하는 load parameter(부하 매개변수)라고 불리는 몇 개의 숫자로 나타낼 수 있다.

시스템 마다 적합한 load parameter는 달라질 수 있다. load parameter 예로 웹 서버의 초당 요청 수, 데이터베이스의 읽기 대 쓰기 비율, 대화방의 active user, 캐시 적중률 등이 있다. 평균적인 수치가 중요할 수도 있고, 소스의 극단적인 경우가 병목 현상의 원인일 수도 있다.